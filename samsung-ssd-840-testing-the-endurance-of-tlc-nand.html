<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Testing the Endurance of TLC NAND | EchoVib</title><meta name=generator content="Hugo 0.98.0"><meta name=description content="NAND endurance is something that always raises questions among those considering a move to solid state storage. Even though we have showed more than once that the endurance of today's MLC NAND based SSDs is more than enough for even enterprise workloads, the misconception of SSDs having a short lifespan still lives. Back in the day when we had 3Xnm MLC NAND with 5,000 P/E cycles, people were worried about wearing our their SSDs, although there was absolutely nothing to worry about."><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/normalize.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet type=text/css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/cayman.css><link rel=apple-touch-icon sizes=180x180 href=./apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=./favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=./favicon-16x16.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css integrity=sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js integrity=sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body><section class=page-header><h1 class=project-name>EchoVib</h1><h2 class=project-tagline></h2><nav><a href=./index.html class=btn>Blog</a>
<a href=./sitemap.xml class=btn>Sitemap</a>
<a href=./index.xml class=btn>RSS</a></nav></section><section class=main-content><h1>Testing the Endurance of TLC NAND</h1><div><strong>Publish date: </strong>2024-07-16</div><p>NAND endurance is something that always raises questions among those considering a move to solid state storage. Even though we have showed <a href=#>more</a> <a href=#>than</a> <a href=#>once</a> that the endurance of today's MLC NAND based SSDs is more than enough for even enterprise workloads, the misconception of SSDs having a short lifespan still lives. Back in the day when we had 3Xnm MLC NAND with 5,000 P/E cycles, people were worried about wearing our their SSDs, although there was absolutely nothing to worry about. The move to ~20nm MLC NAND has reduced the available P/E cycles to 3,000, but that's still plenty.</p><p>We have tested MLC NAND endurance before but with the release of <a href=#>Samsung SSD 840</a>, we had something new to test: TLC NAND. We have explained the architectural differences between SLC, MLC and TLC NAND <a href=#>several</a> <a href=#>times</a> <a href=#>by</a> <a href=#>now</a>, but I'll do a brief recap here (I strongly recommend reading the <a href=#>detailed explanation</a> if you want to truly understand how TLC NAND works):</p><table align=center border=0 cellpadding=0 cellspacing=1 width=575><tbody><tr class=tlblue><td>&nbsp;</td><td>SLC</td><td>MLC</td><td>TLC</td></tr><tr><td class=tlgrey>Bits per Cell</td><td>1</td><td>2</td><td>3</td></tr><tr><td class=tlgrey>P/E Cycles (2Xnm)</td><td>100,000</td><td>3,000</td><td>1,000</td></tr><tr><td class=tlgrey>Read Time</td><td>25us</td><td>50us</td><td>~75us</td></tr><tr><td class=tlgrey>Program Time</td><td>200-300us</td><td>600-900us</td><td>~900-1350us</td></tr><tr><td class=tlgrey>Erase Time</td><td>1.5-2ms</td><td>3ms</td><td>~4.5ms</td></tr></tbody></table><p>The main difference is that MLC stores two bits per cell, whereas TLC stores three. This results in eight voltage states instead of four (also means that one TLC cell has eight possible data values). Voltages used to program the cell are usually between 15V and 18V, so there isn't exactly a lot room to play with when you need to fit twice as many voltage states within the same space. The problem is that when the cell gets cycled (i.e. programmed and erased), the room taken by one voltage state increases due to electron trapping and current leakage. TLC can't tolerate as much change in the voltage states as MLC can because there is less voltage headroom and you can't end up in a situation where two voltage states become one (the cell wouldn't give valid values because it doesn't know if it's programmed as "110" or "111" for example). Hence the endurance of TLC NAND is lower; it simply cannot be programmed and erased as many times as MLC NAND and thus you can't write as much to a TLC NAND based SSD.</p><p>No manufacturer has openly wanted to discuss the endurance of TLC, so the numbers we have seen before have been educated guesses. 1,000 - 1,500 P/E cycles is what I've heard for TLC NAND. The reality can also be different from what manufacturers claim as we discovered in the <a href=#>Intel SSD 335</a> (though there is a high probability that it's just a firmware bug), so actually testing the endruance is vital.&nbsp;</p><p>There was one obstacle, though. Samsung does not report NAND writes like Intel does and without NAND writes we can't know for sure how much data is written to the NAND because of write amplification. Fortunately, there is a a workaround: I wrote incompressible 128KB sequential data (QD=1) to the drive and took down the duration of each run and the Wear Leveling Count (similar to Media Wear Indicator). If I know the average write speed and the duration, I can figure out how much I wrote to the drive. Sequential large block-size data should also result in write amplification near 1x because the data is sequential and thus doesn't fragment the drive. I then compared the amount of data I wrote to the WLC values I had recorded:</p><table align=center border=1 cellpadding=1 cellspacing=1><tbody readability=5><tr readability=2><td class=tlblue colspan=2>Samsung SSD 840 (250GB) Endurance Testing</td></tr><tr readability=2><td class=tlgrey>Total Amount of Data Written</td><td>92,623 GiB</td></tr><tr readability=2><td class=tlgrey>Total Amount of WLC Exhausted</td><td>34</td></tr><tr readability=2><td class=tlgrey>Estimated Total Amount of P/E Cycles</td><td>1,064</td></tr><tr readability=2><td class=tlgrey>Estimated Total Write Endurance</td><td>272,420 GiB</td></tr></tbody></table><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/6459/SMART%20final_575px.PNG style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>It seems that 1,000 P/E cycles is indeed accurate. The raw Wear Leveling Count seems to indicate the amount of exhausted P/E cycles as it's inversely proportional to the normalized WLC value and once it hits 1,000, the WLC will hit zero.&nbsp;</p><p>Note that if Samsung's WLC is anything like Intel's Media Wear Indicator, when the normalized counter value drops to 0 there's still a good amount of endurance actually left on the NAND (it could be as high as another 20 - 30%). At least with Intel drives, the MWI hitting 0 is a suggestion that you may want to think about replacing the drive and not a warning of imminent failure.</p><p><strong>Conclusions</strong></p><p>1,000 P/E cycles may not sound much but when it's put into perspective, it's still plenty. Client workloads rarely exceed 10GiB of writes per day on average and write amplification should stay within reasonable magnitudes as well:</p><table align=center border=0 cellpadding=0 cellspacing=1 width=575><tbody><tr class=tgrey><td align=center colspan=5>SSD Lifetime Estimation</td></tr><tr class=tlblue><td>NAND</td><td align=center colspan=2>MLC—3K P/E Cycles</td><td align=center colspan=2>TLC—1K P/E Cycles</td></tr><tr><td class=tlgrey>NAND Capacity</td><td>128GiB</td><td>256GiB</td><td>128GiB</td><td>256GiB</td></tr><tr><td class=tlgrey>Writes per Day</td><td>10GiB</td><td>10GiB</td><td>10GiB</td><td>10GiB</td></tr><tr><td class=tlgrey>Write Amplification</td><td>3x</td><td>3x</td><td>3x</td><td>3x</td></tr><tr><td class=tlgrey>Total Estimated Lifespan</td><td>35.0 years</td><td>70.1 years</td><td>11.7 years</td><td>23.4 years</td></tr></tbody></table><p>Of course, if you write 20GiB a day, the estimated lifespan will be halved, although we are still looking at several years. Even with 30GiB of writes a day the 256GiB TLC drive should be sufficient in terms of endurance. Write amplification can also go over 10x if your workload is heavily random write centric, but that is more common in the enterprise side - client workloads are usually much lighter.&nbsp;</p><p>Furthermore, it should be kept in mind that all SMART values that predict lifespan are conservative; it's highly unlikely that your drive will drop dead once the WLC or MWI hits zero. There is a great example at&nbsp;<a href=#>XtremeSystems</a>&nbsp;where a 256GB Samsung SSD 830 is currently at nearly 6,000TiB of writes. Its WLC hit zero at 828TiB of writes, which means its endurance is over seven times higher than what the SMART values predicted. That doesn't mean all drives are as durable but especially SSDs from NAND manufacturers (e.g. Intel, Crucial/Micron, Samsung etc.) seem to be more durable than what the SMART values and datasheets indicate, which isn't a surprise given that they can cherry-pick the highest quality NAND chips.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIN1gZhoqpqlo6q7qHnSrJtmcGRlerWx0q2gp59dqbWmecSnm66qkaOwpnnOn2StpJNiu6K6ww%3D%3D</p><footer class=site-footer><span class=site-footer-credits>Made with <a href=https://gohugo.io/>Hugo</a>. © 2022. All rights reserved.</span></footer></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>